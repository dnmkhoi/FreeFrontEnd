var confirmEmailModal=null,phubGenericFuncModule=function(){function a(e,t){for(var a=0;a<e.length;a++)e[a].setAttribute("href",t)}return{setCategoryLink:function(){var e=document.querySelectorAll("#menuItem3 > a, .categoryDefault"),t=e.length?e[0].getAttribute("href"):"";switch(MG_Utils.getCookie("currentCategory")){case"al":a(e,t+="?o=al");break;case"mv":a(e,t+="?o=mv");break;case"mp":a(e,t=t)}},setCookie:function(e){var t=new Date;t.setTime(t.getTime()+3e4),document.cookie=e+";expires="+t.toUTCString()+";path=/"},friendReqSubmit:function(){var o=document.querySelector("#preventClick"),i=o?o.getAttribute("data-user-id"):"",e=document.querySelector("#friendRequestForm"),l=document.querySelector(".friend_"+i+" button"),s=l.children;MG_Utils.ajaxCall({url:e.getAttribute("action"),data:function(e){for(var t=document.querySelectorAll(e),a={},n=0;n<t.length;n++){a[t[n].name]=1e3<t[n].value.length?t[n].value.substring(0,1e3):t[n].value}return a}('#friendRequestForm input:not([type="button"]), #friendRequestForm textarea'),type:"POST",dataType:"JSON",beforeSend:function(){for(var e=0;e<s.length;e++)MG_Utils.addClass(s[e],"visuallyHidden");l.insertAdjacentHTML("beforeend",'<span class="spinner" />')},success:function(e){var t=document.querySelector(".friend_"+i),a=l.querySelector(".spinner"),n=document.querySelector(".subscribe_"+i);"undefined"!=typeof friendRequestModal&&friendRequestModal.closeModal();for(var r=0;r<s.length;r++)MG_Utils.removeClass(s[r],"visuallyHidden");a&&l.removeChild(a),"SENT"==e.success&&(l.setAttribute("data-friends",1),t&&MG_Utils.removeClass(t,"removeFriend"),t&&MG_Utils.removeClass(t,"add"),t&&MG_Utils.addClass(t,"sent"),n&&e.subscribed&&(n.querySelector("button").setAttribute("data-subscribed",1),MG_Utils.removeClass(n,"subscribe"),MG_Utils.addClass(n,"unsubscribe"),n.querySelector(".buttonLabel").textContent="Subscribed"),o&&1==o.getAttribute("data-refresh")&&location.reload(),t&&t.querySelector(".buttonLabel")&&(t.querySelector(".buttonLabel").textContent=e.text_initial))}})}}}(),eventsModule=function(){function a(e){if(e.target&&MG_Utils.hasClass(e.target,"pornstarsList")){var t=e.target.value;t&&(e.target.value=t.replace(/[\<\>|\[\]|\{\}|\(\)]/gi,""))}}function h(a){var e=document.getElementById("confirmEmailModal");e&&(confirmEmailModal=new MG_Modal({content:e,className:"infoModalContainer"})),void 0!==confirmEmailModal&&confirmEmailModal.openModal(function(e,t){txtMessage=t.querySelectorAll(".text"),txtMessage[0].innerHTML=a})}function n(e){e.target&&("BUTTON"===e.target.tagName&&e.target.parentElement&&MG_Utils.hasClass(e.target.parentElement,"subscribeButton")||"SPAN"===e.target.tagName&&e.target.parentElement&&"BUTTON"===e.target.parentElement.tagName&&e.target.parentElement.parentElement&&MG_Utils.hasClass(e.target.parentElement.parentElement,"subscribeButton")||"I"===e.target.tagName&&e.target.parentElement&&"BUTTON"===e.target.parentElement.tagName&&e.target.parentElement.parentElement&&MG_Utils.hasClass(e.target.parentElement.parentElement,"subscribeButton"))&&!function e(t,a,n){t.preventDefault();var r=void 0!==a?a:"BUTTON"===t.target.tagName?t.target:t.target.parentElement,o=r.children,i=r.parentElement.getAttribute("data-button-id"),l=document.querySelectorAll("."+i),s=document.querySelectorAll("."+i+" button"),u=document.querySelectorAll("."+i+" .buttonLabel"),d=0==r.getAttribute("data-subscribed")?r.getAttribute("data-subscribe-url"):r.getAttribute("data-unsubscribe-url"),c=r.getAttribute("data-login"),m=r.getAttribute("data-refresh"),g=0==r.getAttribute("data-subscribed")?"By subscribing to this content partner you are also subscribing to all of their channels, would you like to continue?":"By unsubscribing from this content partner you are also unsubscribing from all of their channels, would you like to continue?",f=r.getAttribute("data-content-partner"),v=r.getAttribute("data-is-pornhub"),b=r.getAttribute("data-hidden");1==c?signinbox.show(textPHTranslation.loginTitleSubscribe):0==v&&1==f&&!0!==n?yesNoModal.show(g,function(){e(t,r,!0)}):1==b?h(modalTranslationText.cannotSubscribe):MG_Utils.ajaxCall({type:"POST",url:d,dataType:"JSON",beforeSend:function(){for(var e=0;e<o.length;e++)MG_Utils.addClass(o[e],"visuallyHidden");r.insertAdjacentHTML("beforeend",'<span class="spinner" />')},success:function(e){for(var t=r.querySelector(".spinner"),a=0;a<o.length;a++)MG_Utils.removeClass(o[a],"visuallyHidden");if(t&&r.removeChild(t),"PASS"==e.success){if(0==r.getAttribute("data-subscribed")){for(a=0;a<s.length;a++)s[a].setAttribute("data-subscribed",1);for(a=0;a<l.length;a++)MG_Utils.removeClass(l[a],"subscribe"),MG_Utils.addClass(l[a],"unsubscribe")}else{for(a=0;a<s.length;a++)s[a].setAttribute("data-subscribed",0);for(a=0;a<l.length;a++)MG_Utils.removeClass(l[a],"unsubscribe"),MG_Utils.addClass(l[a],"subscribe")}1==m&&location.reload()}else r.setAttribute("disabled",1);if(e.text_initial)for(a=0;a<u.length;a++)u[a].textContent=e.text_initial},error:function(){location.reload()}})}(e)}return{onTextAreaFocus:function(e){var t=e.target;t&&"TEXTAREA"===t.tagName&&t.hasAttribute("data-val")&&t.dataset.val==t.value&&(t.value="")},onBlur:function(e){var t;(t=e.target)&&"TEXTAREA"===t.tagName&&t.hasAttribute("data-val")&&""==t.value&&(t.value=t.dataset.val),a(e)},onKeyUp:function(e){a(e)},onButtonMouseEnter:function(e){if(e.target&&MG_Utils.hasClass(e.target,"addFriendButton"))(t=e.target.querySelector(".buttonLabel"))&&"Friends"===t.textContent?t.textContent="Unfriend":t&&"Request Sent"===t.textContent&&(t.textContent="Cancel Request");else if(e.target&&MG_Utils.hasClass(e.target,"subscribeButton")){var t;(t=e.target.querySelector(".buttonLabel"))&&"Subscribed"===t.textContent&&(t.textContent="Unsubscribe")}},onButtonMouseLeave:function(e){if(e.target&&MG_Utils.hasClass(e.target,"addFriendButton"))(t=e.target.querySelector(".buttonLabel"))&&"Unfriend"===t.textContent?t.textContent="Friends":t&&"Cancel Request"===t.textContent&&(t.textContent="Request Sent");else if(e.target&&MG_Utils.hasClass(e.target,"subscribeButton")){var t;(t=e.target.querySelector(".buttonLabel"))&&"Unsubscribe"===t.textContent&&(t.textContent="Subscribed")}},onSpanMouseOver:function(e){if(e.target&&MG_Utils.hasClass(e.target,"js-moreAction")){var t=e.target.querySelector(".tooltiptext"),a=e.target.querySelector(".triangle");t&&MG_Utils.removeClass(t,"hidden"),a&&MG_Utils.removeClass(a,"hidden")}},onSpanMouseOut:function(e){if(e.target&&MG_Utils.hasClass(e.target,"js-moreAction")){var t=e.target.querySelector(".tooltiptext"),a=e.target.querySelector(".triangle");t&&MG_Utils.addClass(t,"hidden"),a&&MG_Utils.addClass(a,"hidden")}},documentClick:function(e){var t;!function(e){if(e.target&&"preventClick"===e.target.id){var t=e.target,a=document.querySelector("#messageRequest");t.setAttribute("disabled","disabled"),a&&"Add a personal message (optional)..."==a.value&&(a.value=" "),isLogged&&phubGenericFuncModule.friendReqSubmit()}}(e),function(e){if(e.target&&("LI"===e.target.tagName&&MG_Utils.hasClass(e.target,"item")||"A"===e.target.tagName&&e.target.parentElement&&MG_Utils.hasClass(e.target.parentElement,"item")||"SPAN"===e.target.tagName&&e.target.parentElement&&e.target.parentElement.parentElement&&MG_Utils.hasClass(e.target.parentElement.parentElement,"item"))){var t=MG_Utils.hasClass(e.target,"item")?e.target:MG_Utils.hasClass(e.target.parentElement,"item")?e.target.parentElement:e.target.parentElement.parentElement,a=t.querySelectorAll(".soughtValue"),n=MG_Utils.hasClass(t,"pornstar"),r=MG_Utils.hasClass(t,"channel"),o=document.querySelector("#searchInput"),i=a.length?a[0].textContent:o?o.value:"",l={},s={to:encodeURI(t.textContent),from:encodeURI(i)};n?l.psu=s:r?l.csu=s:l.qsu=s,phubGenericFuncModule.setCookie("autocomplete_search="+JSON.stringify(l))}}(e),(t=e).target&&MG_Utils.hasClass(t.target,"js-okBtn")&&(t.preventDefault(),confirmEmailModal.closeModal()),function(e){if(e.target&&("BUTTON"===e.target.tagName&&e.target.parentElement&&MG_Utils.hasClass(e.target.parentElement,"addFriendButton")||"SPAN"===e.target.tagName&&e.target.parentElement&&"BUTTON"===e.target.parentElement.tagName&&e.target.parentElement.parentElement&&MG_Utils.hasClass(e.target.parentElement.parentElement,"addFriendButton")||"I"===e.target.tagName&&e.target.parentElement&&"BUTTON"===e.target.parentElement.tagName&&e.target.parentElement.parentElement&&MG_Utils.hasClass(e.target.parentElement.parentElement,"addFriendButton"))){e.preventDefault();var n="BUTTON"===e.target.tagName?e.target:e.target.parentElement,r=n.children,t=n.parentElement.getAttribute("data-button-id"),o=document.querySelectorAll("."+t),i=document.querySelectorAll("."+t+" .buttonLabel"),l=n.getAttribute("data-friends"),s=n.getAttribute("data-refresh"),u=2==l?n.getAttribute("data-unfriend-url"):n.getAttribute("data-friend-url"),a=n.getAttribute("data-login"),d=n.getAttribute("data-show-confirm-email-modal"),c=n.getAttribute("data-hidden");1==a?signinbox.show(textPHTranslation.loginTitleToAddFriend):1==d?h(modalTranslationText.confirmEmail):1==c?h(modalTranslationText.cannotAdd):1==l?MG_Utils.ajaxCall({type:"POST",url:n.getAttribute("data-unfriend-url"),dataType:"JSON",success:function(e){if("PASS"==e.success){n.setAttribute("data-friends",0);for(var t=0;t<i.length;t++)i[t].textContent="Add Friend";for(t=0;t<o.length;t++)MG_Utils.removeClass(o[t],"sent"),MG_Utils.removeClass(o[t],"removeFriend"),MG_Utils.addClass(o[t],"add")}}}):MG_Utils.ajaxCall({type:"POST",url:u,dataType:"JSON",beforeSend:function(){for(var e=0;e<r.length;e++)MG_Utils.addClass(r[e],"visuallyHidden");n.insertAdjacentHTML("beforeend",'<span class="spinner" />')},success:function(e){for(var t=n.querySelector(".spinner"),a=0;a<r.length;a++)MG_Utils.removeClass(r[a],"visuallyHidden");if(t&&n.removeChild(t),"PASS"==e.success){if(0==l){1==s&&e.auto_accepted&&(n.setAttribute("data-friends",2),location.reload()),n.setAttribute("data-friends",1);for(a=0;a<o.length;a++)MG_Utils.removeClass(o[a],"add"),MG_Utils.addClass(o[a],"removeFriend")}else if(2==l){n.setAttribute("data-friends",0);for(a=0;a<o.length;a++)MG_Utils.removeClass(o[a],"removeFriend"),MG_Utils.addClass(o[a],"add");1==s&&location.reload()}}else"ATTEMPT"==e.success?builtModal(e.user.id,e.user.avatar,e.user.username,e.user.profile,u,s):n.setAttribute("disabled",1);if(e.text_initial&&0<i.length)for(a=0;a<i.length;a++)i[a].textContent=e.text_initial},error:function(){location.reload()}})}}(e),n(e),isLogged&&function(e){if(e.target&&(MG_Utils.hasClass(e.target,"notificationIcon")||"I"===e.target.tagName&&e.target.parentElement&&MG_Utils.hasClass(e.target.parentElement,"notificationIcon"))){var t=MG_Utils.hasClass(e.target,"notificationIcon")?e.target:e.target.parentElement,a=t.dataset?t.dataset.title:"",n=t.dataset?t.dataset.type:"",r=document.querySelector("#notificationBox"),o=document.querySelector("#notificationBox .titleContainer"),i=document.querySelector("#notificationBox #loadingDiv"),l=document.querySelectorAll("ul#modelNotificationList > li, .handle3, .track3");o&&(o.textContent=a),r&&(r.dataset.type=n),r&&r.setAttribute("type",n);for(var s=0;s<l.length;s++)l[s].style.display="none";i&&(i.style.display="block"),setTimeout(function(){insertNotificationContent()},100)}}(e)},backToPHClick:function(){var e=document.querySelector("#js-backToPH"),t=e?e.dataset:"";t&&MG_Utils.ajaxCall({url:t.logout,type:"POST"}).done(function(){$j.ajax({url:premiumRedirectCookieURL+"&do=delete",cache:!1,xhrFields:{withCredentials:!0},crossDomain:!0}).done(function(){window.location.href=t.redirect})})}}}(),avatarLoad=function(){var d=MG_Utils.hasClass(document.body,"logged-out"),c={timer:null,el:null},m={};function e(e){if(e.target&&(MG_Utils.hasClass(e.target,"avatarWrap")||MG_Utils.hasClass(e.target,"userLink")||MG_Utils.hasClass(e.target,"usernameWrap"))){var l=e.target,t=l.dataset,a=document.querySelectorAll(".avatarPosition"),s="";if(0==t.disablePopover){for(var n=0;n<a.length;n++)a[n].innerHTML="";(MG_Utils.hasClass(l,"avatarTrigger")&&a.length||MG_Utils.hasClass(l,"usernameWrap")&&a.length&&(o=(r=e).target,i=r.currentTarget,u=i.querySelector(".avatarPosition"),i.contains(o)&&!u.contains(o)||i==o)||MG_Utils.hasClass(l,"userLink"))&&(c.timer&&clearTimeout(c.timer),s=t.type,c.el=l,c.timer=setTimeout(function(){if(m[t[s+"id"]]){if(d){var e=c.el.querySelector(".avatarPosition");e&&(e.innerHTML=m[t[s+"id"]])}}else MG_Utils.ajaxCall({type:"POST",url:"/"+s+"/hover?id="+t[s+"id"],dataType:"html",context:this,cache:!1,success:function(e){l.querySelector(".avatarPosition").innerHTML=e;for(var t=document.querySelectorAll(".avatarPopOver"),a=0;a<t.length;a++)t[a].style.display="none";l.querySelector(".avatarPopOver")&&(l.querySelector(".avatarPopOver").style.display="block");var n=document.querySelector(".avatarPopOver"),r=n?n.getBoundingClientRect():null,o=r?r.left:0,i=n?n.offsetWidth:0;(document.querySelector(".wrapper")?document.querySelector(".wrapper").offsetWidth:0)<o+i?MG_Utils.addClass(n,"popOverEdge"):MG_Utils.removeClass(n,"popOverEdge"),d&&(m[c.el.dataset[s+"id"]]=c.el.querySelector(".avatarPosition")?c.el.querySelector(".avatarPosition").innerHTML:"")}})},500))}}var r,o,i,u}function t(e){if(e.target&&(MG_Utils.hasClass(e.target,"avatarWrap")||MG_Utils.hasClass(e.target,"userLink")||MG_Utils.hasClass(e.target,"usernameWrap"))){var t=e.target,a=t.dataset,n="",r=document.querySelector(".avatarPopOver");0==a.disablePopover&&(n=t.dataset?t.dataset.type:"",d&&(m[e.target.dataset[n+"id"]]=e.target.querySelector(".avatarPosition")?e.target.querySelector(".avatarPosition").innerHTML:""),r&&(r.style.display="none"),r&&document.body.insertAdjacentElement("beforeend",r),clearTimeout(c.timer))}}return{init:function(){document.body.addEventListener&&(document.body.addEventListener("mouseenter",e,!0),document.body.addEventListener("mouseleave",t,!0))}}}();function loadJS(e,t){MG_Utils.ajaxCall({url:e,dataType:"script"}).done(function(){"function"==typeof t&&t()})}MG_Utils.domReady(function(){document.addEventListener("click",eventsModule.documentClick);for(var e=document.querySelectorAll("a.relatedItem"),t=document.querySelectorAll(".js-trendSearch"),a=document.querySelectorAll("ul#curentItemCategory li"),n=document.querySelector(".nf-categories-sidebar .sidebar_wrapper.js-mxpParent"),r=document.querySelectorAll(".js-moreAction"),o=document.querySelectorAll("#languages li a, .languages li a"),i=document.querySelector("#js-backToPH"),l=document.querySelector(".js_premiumLogOut"),s=0;s<e.length;s++)e[s].addEventListener("click",function(){var e=document.querySelector("#searchInput"),t={from:encodeURI(e?e.value.trim():"")};phubGenericFuncModule.setCookie("related_search="+JSON.stringify(t))});for(s=0;s<t.length;s++)t[s].addEventListener("click",function(){phubGenericFuncModule.setCookie("trending_search= "+encodeURI(this.textContent))});for(s=0;s<a.length;s++)a[s].addEventListener("click",function(){document.cookie="currentCategory= "+this.dataset.category});phubGenericFuncModule.setCategoryLink(),"Explorer"==BrowserDetect.browser&&BrowserDetect.version<8||avatarLoad.init(),document.body.addEventListener&&(document.body.addEventListener("focus",eventsModule.onTextAreaFocus,!0),document.body.addEventListener("blur",eventsModule.onBlur,!0),document.body.addEventListener("keyup",eventsModule.onKeyUp,!0),document.body.addEventListener("mouseenter",eventsModule.onButtonMouseEnter,!0),document.body.addEventListener("mouseleave",eventsModule.onButtonMouseLeave,!0),document.body.addEventListener("mouseover",eventsModule.onSpanMouseOver,!0),document.body.addEventListener("mouseout",eventsModule.onSpanMouseOut,!0)),n&&MG_Utils.addClass(n,"domReady");for(s=0;s<r.length;s++)r[s].addEventListener("click",function(e){if(e.target&&e.target.parentElement){var t=e.target.parentElement.querySelector("#profileBlockReport .blockAndReportSubscribers");t&&MG_Utils.toggleClass(t,"hidden")}});for(s=0;s<o.length;s++)o[s].addEventListener("click",function(){if(setCookieAdvanced("lang",this.dataset.lang,30,"/",this.dataset.root),location.hash!=this.hash)return location.href=(-1==this.href.indexOf("#")?this.href:this.href.substring(0,this.href.indexOf("#")))+location.hash,!1});if(i&&i.addEventListener("click",eventsModule.backToPHClick),l&&l.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href");$j.ajax({url:premiumRedirectCookieURL+"&do=delete",cache:!1,crossDomain:!0,xhrFields:{withCredentials:!0}}).done(function(){document.location.href=t})}),document.getElementById("js-networkBar")){var u=document.getElementById("js-networkBar").querySelector(".languageDropdown").querySelectorAll("li");u&&[].forEach.call(u,function(t){t.addEventListener("click",function(){var e=MG_Utils.getData(t,"lang");setCookieAdvanced("lang",e,30,"/",removeSubdomain(window.location.host))})})}isLogged&&($j("#notificationBox").on("click",".subscribeConfirm label",function(e){var t=e.currentTarget.parentElement.querySelector("input"),a=e.currentTarget.querySelector(".fakeCheckBox");t.checked?MG_Utils.removeClass(a,"checked"):MG_Utils.addClass(a,"checked")}),$j("#notificationBox").on("click",".friendRequestItem .btnFlag",function(){var e=this;yesNoModal.show("Are you sure you want to report as spam and reject this request?",function(){reportSpam(e.dataset.userid)})}),$j("#notificationBox").on("click",function(e){e.stopPropagation()}))}),function(){var o,i,l,e;(i=document.querySelector(".js-elInViewPort"),l=MG_Utils.debounce(function(){var e,t,a=0,n=document.querySelectorAll(".js-whenInView"),r=n.length;if(e=i.getBoundingClientRect(),t=document.documentElement,0<=e.bottom&&0<=e.right&&e.top<=(window.innerHeight||t.clientHeight)&&e.left<=(window.innerWidth||t.clientWidth)){if(o)return void window.removeEventListener("scroll",l);if(n&&r){for(;a<r;a++)n[a].setAttribute("src",n[a].getAttribute("data-image"));o=!0}}},125),{init:function(){i&&window.addEventListener("scroll",l)}}).init(),(e=document.querySelector(".relatedCategoriesWrapper"))&&0==e.querySelector(".nf-categories").querySelectorAll(".show").length&&MG_Utils.addClass(e,"hidden")}(),function(){if("undefined"!=typeof MPP_EXCLUSIVE_TERMS)try{var e=document.getElementById("modelMPPExclusive"),u=new MG_Modal({content:e,className:"modelMPPExclusiveModal",closeButton:!1,closeDocument:!1,maxWidth:"500px",minWidth:"500px"});u.openModal(function(){var t=document.getElementById("modalWrapMTubes");if(t){function a(e){if(s.errors.push(e),i&&l)return MG_Utils.removeClass(i,"isHidden"),s.errors.forEach(function(e){l.innerHTML=e})}function n(){i&&l&&(MG_Utils.addClass(i,"isHidden"),l.innerHTML="")}var e=t.querySelector(".modelMPPForm"),r=t.querySelector(".modelMPPSubmit"),o=t.querySelector(".js-modelMPPInputIntial"),i=t.querySelector(".js-modelMPPError"),l=t.querySelector(".js-modelMPPErrorMessage"),s={errors:[],checked:!1};document.addEventListener("change",function(e){MG_Utils.hasClass(e.target,"js-modelMPPInput")&&(n(),s.checked=!0)}),document.addEventListener("click",function(e){if(MG_Utils.hasClass(e.target,"modelMPPSubmit"))return e.preventDefault(),s.checked?""===o.value?a(MPP_EXCLUSIVE_TERMS.errorIntials):/^[a-zA-Z]+$/.test(o.value)?3<=o.value.length?a(MPP_EXCLUSIVE_TERMS.errorLimit):void MG_Utils.ajaxCall({url:MPP_EXCLUSIVE_TERMS.endPoint,data:{exclusive:t.querySelector(".js-modelMPPInput:checked").value,initials:t.querySelector(".js-modelMPPInputIntial").value},type:"POST",success:function(e){e.success?u.closeModal():a(e.message)}}):a(MPP_EXCLUSIVE_TERMS.errorAlpha):a(MPP_EXCLUSIVE_TERMS.errorChecked)}),document.addEventListener("focus",function(e){MG_Utils.hasClass(e.target,"js-modelMPPInputIntial")&&n()},!0),o.addEventListener("keyup",function(){13===event.keyCode&&r.click()}),e.addEventListener("submit",function(e){e.preventDefault()})}})}catch(e){console.log("MPP Eclusive: ",e)}}();